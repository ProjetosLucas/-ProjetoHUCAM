<html>
<head>
<title>Image Scaling Arrows</title>
<META HTTP-EQUIV="imagetoolbar" CONTENT="no">
<link rel="stylesheet" type="text/css" href="../../newwalterzorn.css">
<style type="text/css">
<!--
body {
  padding:40px;
}
-->
</style>
</head>
<body onload="init()">
<script type="text/javascript" src="../../scripts/wz_dragdrop.js"></script>
  <center>
    <big><b>Image-Sizing Grips, Created with the API of wz_dragdrop.js</b></big>
    <br>&nbsp;<br>
    Double-click on the image:
    <br>&nbsp;<br>
    <img name="main" src="../../images/dragdrop/ddkoala.jpg" width="160" height="213" alt="Double-click on me...">
    <br>
    <img name="lefttop" src="marker_rect.gif" width="16" height="16" style="visibility:hidden;">
    <img name="righttop" src="marker_rect.gif" width="16" height="16" style="visibility:hidden;">
    <img name="rightbottom" src="marker_rect.gif" width="16" height="16" style="visibility:hidden;">
    <img name="leftbottom" src="marker_rect.gif" width="16" height="16" style="visibility:hidden;">
    <br>&nbsp;<br>
    <a href="demos.htm" target="_top">Back, Zur&uuml;ck</a>
  </center>
<script type="text/javascript">
<!--
SET_DHTML("main"+CURSOR_MOVE, "lefttop"+CURSOR_NW_RESIZE, "righttop"+CURSOR_NE_RESIZE, "rightbottom"+CURSOR_SE_RESIZE, "leftbottom"+CURSOR_SW_RESIZE);

var main = dd.elements.main;
var lt = dd.elements.lefttop;
var rt = dd.elements.righttop;
var rb = dd.elements.rightbottom;
var lb = dd.elements.leftbottom;
var grips = [lt, rt, rb, lb];

function init()
{
    hideGrips();
    main.setZ(main.z+1);
    main.div.ondblclick = showGrips;
}

function my_PickFunc()
{
    if (dd.obj.name == "main")
        hideGrips();

    else
    {
        var i = 4; while (i--)
        {
            if (grips[i] != dd.obj)
                grips[i].hide();
        }
    }
}

function my_DropFunc()
{
    hideGrips();
}

function my_DragFunc()
{
    if (dd.obj == rb)
    {
        main.resizeTo(rb.x-lb.x, rb.y-rt.y);
    }
    else if (dd.obj == rt)
    {
        main.resizeTo(rt.x-lt.x, rb.y-rt.y);
        main.moveTo(rt.x-main.w+rt.w/2, rt.y+rt.h/2);
    }
    else if (dd.obj == lb)
    {
        main.moveTo(lb.x+lb.w/2, lt.y+lt.h/2);
        main.resizeTo(rb.x-lb.x, lb.y-lt.y);
    }
    else if (dd.obj == lt)
    {
        main.moveTo(lt.x+lt.w/2, lt.y+lt.h/2);
        main.resizeTo(rt.x-lt.x, lb.y-lt.y);
    }
}

function showGrips()
{
    moveGripsToCorners();
    var i = 4; while(i--)
    {
        grips[i].setZ(main.z+1);
        grips[i].show();
    }
}

function hideGrips()
{
    var i = 4; while(i--)
        grips[i].hide();
}

function moveGripsToCorners()
{
    lt.moveTo(main.x-lt.w/2, main.y-lt.h/2);
    rt.moveTo(main.x+main.w-lt.w/2, main.y-lt.h/2);
    rb.moveTo(main.x+main.w-lt.w/2, main.y+main.h-lt.h/2);
    lb.moveTo(main.x-lt.w/2, main.y+main.h-lt.h/2);
}
//-->
</script>
</body>
</html>
